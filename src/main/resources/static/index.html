<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <title>ฟอร์มยื่นคำร้องเพิ่ม-ถอนรายวิชา</title>
</head>
<body>
<form id="request-form" method="POST" >
    <!--
    <label for="date">วันเดือนปีที่กรอก </label>
    <input type="date" id="date" name="date" lang="en">
    <br>

    <label for="mr">นาย </label>
    <input type="radio" id="mr" name="studentPrefix" value="นาย">
    <label for="mrs">นาง </label>
    <input type="radio" id="mrs" name="studentPrefix" value="นาง">
    <label for="ms">นางสาว </label>
    <input type="radio" id="ms" name="studentPrefix" value="นางสาว">
    <br>

    <label for="studentFirstName">ชื่อ </label>
    <input type="text" id="studentFirstName" name="studentFirstName">
    <br>

    <label for="studentLastName">สกุล </label>
    <input type="text" id="studentLastName" name="studentLastName">
    <br>

    <label for="studentId">เลขทะเบียน </label>
    <input type="text" id="studentId" name="studentId">
    <br>

    <label for="studentYear">ชั้นปีที่ </label>
    <input type="number" id="studentYear" name="studentYear" min="1" max="7">
    <br>

    <label for="studyField">สาขาวิชา </label>
    <input type="text" id="studyField" name="studyField">
    <br>

    <label for="addressNumber">ที่อยู่บ้านเลขที่ </label>
    <input type="text" id="addressNumber" name="addressNumber">
    <br>

    <label for="moo">หมู่ </label>
    <input type="text" id="moo" name="moo">
    <br>

    <label for="tumbol">ตำบล </label>
    <input type="text" id="tumbol" name="tumbol">
    <br>

    <label for="amphur">อำเภอ </label>
    <input type="text" id="amphur" name="amphur">
    <br>

    <label for="province">จังหวัด </label>
    <input type="text" id="province" name="province">
    <br>

    <label for="postalCode">รหัสไปรษณีย์ </label>
    <input type="text" id="postalCode" name="postalCode">
    <br>

    <label for="mobilePhone">เบอร์โทรศัพท์มือถือ </label>
    <input type="text" id="mobilePhone" name="mobilePhone">
    <br>

    <label for="phone">เบอร์โทรศัพท์บ้าน </label>
    <input type="text" id="phone" name="phone">
    <br>

    <label for="advisor">ชื่อ-นามสกุลอาจารย์ที่ปรึกษา </label>
    <input type="text" id="advisor" name="advisor">
    <br>

   <fieldset>
        <legend>รายวิชาที่ต้องการเพิ่ม</legend>
        <fieldset>
            <legend>รายวิชาที่ 1</legend>
            <label>รหัสวิชา</label>
            <input type="text" id="addSubjectList[0][subjectCode]" name="subjectCode">
            <label>ชื่อวิชา</label>
            <input type="text" id="addSubjectList[0][subjectName]" name="subjectName">
            <label>Section</label>
            <input type="text" id="addSubjectList[0][subjectSection]" name="subjectSection">
            <label>วัน/เวลา</label>
            <input type="text" id="addSubjectList[0][subjectDate]" name="subjectDate">
            <label>หน่วยกิต</label>
            <input type="text" id="addSubjectList[0][subjectCredit]" name="subjectCredit">
            <label>ชื่อผู้สอน</label>
            <input type="text" id="addSubjectList[0][subjectTeacher]" name="subjectTeacher">
            <label>ผู้สอนอนุญาต</label>
            <input type="text" id="addSubjectList[0][subjectCheck]" name="subjectTeacherCheck">
        </fieldset>
    </fieldset>
-->
    <label for="reason">เหตุผล</label>
    <input type="text" id="reason" name="reason">
    <br>
    <input id="submit" type="submit" value="ส่ง" onclick="submitForm()">
</form>
</body>
<script>
    function submitForm() {
        const formData = new FormData(document.getElementById("request-form"));
        const data = {};
        formData.forEach(function(value, key) {
            data[key] = value;
        });

        console.log(JSON.stringify(data));
        fetch('/api/request', {
            method: 'POST',
            body: formData
        })
        .then(response => {
            document.getElementById("request-form").reset();
            response.json();
        })
        .then(data => {

        })
        .catch(error => {
            console.log("error");
        });
    }
</script>
</html>

